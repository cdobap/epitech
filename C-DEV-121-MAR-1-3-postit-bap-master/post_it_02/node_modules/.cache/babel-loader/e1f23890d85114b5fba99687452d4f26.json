{"remainingRequest":"/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/node_modules/babel-loader/lib/index.js!/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/src/components/Board.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/src/components/Board.vue","mtime":1627241479822},{"path":"/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyIGZyb20gIi9ob21lL3NoZWxscGluay9lcGl0ZWNoLzMxL0MtREVWLTEyMS1NQVItMS0zLXBvc3RpdC1iYXB0aXN0ZS5jYXJkb3NvL3Bvc3RfaXRfMDIvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvZXNtL2NyZWF0ZUZvck9mSXRlcmF0b3JIZWxwZXIiOwppbXBvcnQgT25lUG9zdEl0IGZyb20gJ0AvY29tcG9uZW50cy9PbmVQb3N0SXQudnVlJzsKaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdCb2FyZCcsCiAgY29tcG9uZW50czogewogICAgT25lUG9zdEl0OiBPbmVQb3N0SXQKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBub3RlczogW10KICAgIH07CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKCiAgICBheGlvcy5nZXQoJ2h0dHA6Ly81LjEzNS4xMTkuMjM5OjMwOTAvbm90ZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLm5vdGVzKTsKICAgICAgbG9jYWxTdG9yYWdlLm5vdGVzID0gSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5ub3Rlcyk7CiAgICAgIF90aGlzLm5vdGVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uubm90ZXMpOwogICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICBjb25zb2xlLmVycm9yKGVycik7CgogICAgICBfdGhpcy4kcm91dGVyLnB1c2goewogICAgICAgIHBhdGg6ICcvNDA0JwogICAgICB9KTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgZGVsZXRlUG9zdDogZnVuY3Rpb24gZGVsZXRlUG9zdChpZCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIGF4aW9zLmRlbGV0ZSgnaHR0cDovLzUuMTM1LjExOS4yMzk6MzA5MC9ub3Rlcy8nICsgaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vNS4xMzUuMTE5LjIzOTozMDkwL25vdGVzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5ub3RlcyA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEubm90ZXMpOwogICAgICAgICAgX3RoaXMyLm5vdGVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uubm90ZXMpOwogICAgICAgIH0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgY29uc29sZS5lcnJvcihlcnIpOwoKICAgICAgICBfdGhpczIuJHJvdXRlci5wdXNoKHsKICAgICAgICAgIHBhdGg6ICcvNDA0JwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBkZWxldGVhbGw6IGZ1bmN0aW9uIGRlbGV0ZWFsbCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICBheGlvcy5nZXQoJ2h0dHA6Ly81LjEzNS4xMTkuMjM5OjMwOTAvbm90ZXMnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBfaXRlcmF0b3IgPSBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcihyZXNwb25zZS5kYXRhLm5vdGVzKSwKICAgICAgICAgICAgX3N0ZXA7CgogICAgICAgIHRyeSB7CiAgICAgICAgICBmb3IgKF9pdGVyYXRvci5zKCk7ICEoX3N0ZXAgPSBfaXRlcmF0b3IubigpKS5kb25lOykgewogICAgICAgICAgICB2YXIgZWx0ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVsdC5faWQpOwogICAgICAgICAgICBheGlvcy5kZWxldGUoJ2h0dHA6Ly81LjEzNS4xMTkuMjM5OjMwOTAvbm90ZXMvJyArIGVsdC5faWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcyk7CiAgICAgICAgICAgICAgYXhpb3MuZ2V0KCdodHRwOi8vNS4xMzUuMTE5LjIzOTozMDkwL25vdGVzJykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5ub3RlcyA9IEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEubm90ZXMpOwogICAgICAgICAgICAgICAgX3RoaXMzLm5vdGVzID0gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2Uubm90ZXMpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["/home/shellpink/epitech/31/C-DEV-121-MAR-1-3-postit-baptiste.cardoso/post_it_02/src/components/Board.vue"],"names":[],"mappings":";AAQA,OAAO,SAAP,MAAsB,4BAAtB;AACA,OAAO,KAAP,MAAkB,OAAlB;AACA,eAAe;AACb,EAAA,IAAI,EAAE,OADO;AAEb,EAAA,UAAU,EAAE;AACV,IAAA,SAAQ,EAAR;AADU,GAFC;AAKb,EAAA,IALa,kBAKL;AACN,WAAO;AACL,MAAA,KAAK,EAAE;AADF,KAAP;AAGD,GATY;AAUb,EAAA,OAVa,qBAUF;AAAA;;AACT,IAAA,KAAI,CACD,GADH,CACO,iCADP,EAEG,IAFH,CAEQ,UAAA,QAAO,EAAK;AAChB,MAAA,OAAO,CAAC,GAAR,CAAY,QAAQ,CAAC,IAAT,CAAc,KAA1B;AACA,MAAA,YAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,SAAL,CAAe,QAAQ,CAAC,IAAT,CAAc,KAA7B,CAArB;AACA,MAAA,KAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,KAAxB,CAAb;AACD,KANH,EAOG,KAPH,CAOS,UAAA,GAAE,EAAK;AACZ,MAAA,OAAO,CAAC,KAAR,CAAc,GAAd;;AACA,MAAA,KAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,QAAA,IAAI,EAAE;AAAR,OAAlB;AACD,KAVH;AAWD,GAtBY;AAuBb,EAAA,OAAO,EAAE;AACP,IAAA,UADO,sBACK,EADL,EACS;AAAA;;AACd,MAAA,KAAI,CACD,MADH,CACU,qCAAqC,EAD/C,EAEG,IAFH,CAEQ,UAAA,GAAE,EAAK;AACX,QAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,QAAA,KAAI,CACD,GADH,CACO,iCADP,EAEG,IAFH,CAEQ,UAAA,QAAO,EAAK;AAChB,UAAA,YAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,SAAL,CAAe,QAAQ,CAAC,IAAT,CAAc,KAA7B,CAArB;AACA,UAAA,MAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,KAAxB,CAAb;AACD,SALH;AAMD,OAVH,EAWG,KAXH,CAWS,UAAA,GAAE,EAAK;AACZ,QAAA,OAAO,CAAC,KAAR,CAAc,GAAd;;AACA,QAAA,MAAI,CAAC,OAAL,CAAa,IAAb,CAAkB;AAAE,UAAA,IAAI,EAAE;AAAR,SAAlB;AACD,OAdH;AAeD,KAjBM;AAkBP,IAAA,SAlBO,uBAkBM;AAAA;;AACX,MAAA,KAAI,CACD,GADH,CACO,iCADP,EAEG,IAFH,CAEQ,UAAA,QAAO,EAAK;AAAA,mDACE,QAAQ,CAAC,IAAT,CAAc,KADhB;AAAA;;AAAA;AAChB,8DAAuC;AAAA,gBAA5B,GAA4B;AACrC,YAAA,OAAO,CAAC,GAAR,CAAY,GAAG,CAAC,GAAhB;AACA,YAAA,KAAI,CACD,MADH,CACU,qCAAqC,GAAG,CAAC,GADnD,EAEG,IAFH,CAEQ,UAAA,GAAE,EAAK;AACX,cAAA,OAAO,CAAC,GAAR,CAAY,GAAZ;AACA,cAAA,KAAI,CACD,GADH,CACO,iCADP,EAEG,IAFH,CAEQ,UAAA,QAAO,EAAK;AAChB,gBAAA,YAAY,CAAC,KAAb,GAAqB,IAAI,CAAC,SAAL,CAAe,QAAQ,CAAC,IAAT,CAAc,KAA7B,CAArB;AACA,gBAAA,MAAI,CAAC,KAAL,GAAa,IAAI,CAAC,KAAL,CAAW,YAAY,CAAC,KAAxB,CAAb;AACD,eALH;AAMD,aAVH;AAWF;AAdgB;AAAA;AAAA;AAAA;AAAA;AAejB,OAjBH;AAkBF;AArCO;AAvBI,CAAf","sourcesContent":["<template>\n<div class=\"flex flex-wrap md:flex-wrap gap-6\">\n  <div><button class=\"bg-yellow-200 p-2\" @click=\"deleteall\">delete all</button></div>\n  <OnePostIt :notes=\"notes\" @deletePost=\"deletePost\"/>\n</div>\n</template>\n\n<script>\nimport OnePostIt from '@/components/OnePostIt.vue'\nimport axios from 'axios'\nexport default {\n  name: 'Board',\n  components: {\n    OnePostIt\n  },\n  data () {\n    return {\n      notes: []\n    }\n  },\n  mounted () {\n    axios\n      .get('http://5.135.119.239:3090/notes')\n      .then(response => {\n        console.log(response.data.notes)\n        localStorage.notes = JSON.stringify(response.data.notes)\n        this.notes = JSON.parse(localStorage.notes)\n      })\n      .catch(err => {\n        console.error(err)\n        this.$router.push({ path: '/404' })\n      })\n  },\n  methods: {\n    deletePost (id) {\n      axios\n        .delete('http://5.135.119.239:3090/notes/' + id)\n        .then(res => {\n          console.log(res)\n          axios\n            .get('http://5.135.119.239:3090/notes')\n            .then(response => {\n              localStorage.notes = JSON.stringify(response.data.notes)\n              this.notes = JSON.parse(localStorage.notes)\n            })\n        })\n        .catch(err => {\n          console.error(err)\n          this.$router.push({ path: '/404' })\n        })\n    },\n    deleteall () {\n      axios\n        .get('http://5.135.119.239:3090/notes')\n        .then(response => {\n          for (const elt of response.data.notes) {\n            console.log(elt._id)\n            axios\n              .delete('http://5.135.119.239:3090/notes/' + elt._id)\n              .then(res => {\n                console.log(res)\n                axios\n                  .get('http://5.135.119.239:3090/notes')\n                  .then(response => {\n                    localStorage.notes = JSON.stringify(response.data.notes)\n                    this.notes = JSON.parse(localStorage.notes)\n                  })\n              })\n          }\n        })\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n"],"sourceRoot":""}]}